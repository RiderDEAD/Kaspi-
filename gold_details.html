<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Kaspi Gold</title>
    <style>
        :root { --main-font: "SF Pro Display", -apple-system, sans-serif; }
        * { -webkit-tap-highlight-color: transparent; box-sizing: border-box; -webkit-user-select: none; }

        body {
            font-family: var(--main-font); margin: 0; 
            background-color: #DFBC82;
            height: 100vh; overflow: hidden;
            transform: translateX(100%);
            transition: transform 0.4s cubic-bezier(0.1, 0.7, 0.1, 1);
        }
        body.page-visible { transform: translateX(0); }

        .gold-bg-fixed {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(180deg, #D4A356 0%, #DFBC82 45%, #E2C28E 100%);
            z-index: 1;
        }

        .scroll-wrapper {
            position: relative; height: 100vh; overflow-y: auto; z-index: 2;
            -webkit-overflow-scrolling: touch;
        }

        .header-area {
            padding: calc(15px + env(safe-area-inset-top)) 20px 35px 20px;
            color: white; position: relative;
        }

        .back-link { font-size: 38px; color: white; text-decoration: none; font-weight: 200; display: inline-block; margin-bottom: 15px; }
        
        .card-info-title { 
            font-size: 22px; 
            font-weight: 500; 
            margin-bottom: 25px; 
            letter-spacing: -0.2px;
            display: inline-block;
            transform: scaleX(0.97); 
            text-shadow: 0 1px 3px rgba(0,0,0,0.1); 
        }
        
        .balance-txt { 
            font-size: 48px; 
            font-weight: 400; 
            letter-spacing: -0.5px;
            transform: scaleX(0.96); 
            transform-origin: left;
            text-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }
        .balance-txt span { font-weight: 400; font-size: 38px; margin-left: 4px; }

        .label-small {
            font-size: 17px; opacity: 1; margin-bottom: 5px;
            font-weight: 400; transform: scaleX(0.97); transform-origin: left;
        }

        .content-sheet {
            background: white; border-radius: 24px 24px 0 0;
            min-height: 100vh; position: relative;
            box-shadow: 0 -12px 35px rgba(0,0,0,0.12);
        }

        .sticky-nav {
            position: sticky; top: 0; background: white;
            padding: 12px 16px; z-index: 10; border-radius: 24px 24px 0 0;
        }
        .tab-switcher { display: flex; background: #F2F2F7; border-radius: 10px; padding: 2px; }
        .tab-item { flex: 1; text-align: center; padding: 8px 0; font-size: 15px; font-weight: 500; border-radius: 8px; color: #333; transition: 0.2s; }
        .tab-item.active { background: white; color: #000; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }

        .tab-pane { display: none; padding-bottom: 100px; }
        .tab-pane.active { display: block; }

        .date-divider { background: #F2F2F7; padding: 8px 16px; font-size: 14px; color: #8E8E93; font-weight: 500; }
        .tx-row { display: flex; align-items: center; padding: 14px 16px; border-bottom: 0.5px solid #F2F2F7; }
        .tx-icon { width: 42px; height: 42px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 600; color: white; font-size: 18px; }
        .tx-details { flex-grow: 1; margin-left: 14px; }
        .tx-main-text { font-size: 17px; color: #000; display: block; margin-bottom: 2px; }
        .tx-sub-text { font-size: 13px; color: #8E8E93; }
        .tx-sum { font-size: 17px; font-weight: 500; text-align: right; }
        .tx-positive { color: #55B54D; }

        .action-row { display: flex; align-items: center; padding: 16px 20px; border-bottom: 0.5px solid #F2F2F7; }
        .action-row:active { background: #F5F5F7; }
        .action-img { width: 26px; height: 26px; margin-right: 16px; object-fit: contain; }
        .action-label { font-size: 17px; flex-grow: 1; color: #000; }
        .action-chevron { color: #C7C7CC; font-size: 20px; }
    </style>
</head>
<body>
    <div class="gold-bg-fixed"></div>
    <div class="scroll-wrapper">
        <div class="header-area">
            <a href="bank.html" id="backBtn" class="back-link">‹</a>
            <div><span class="card-info-title">Kaspi Gold *8255</span></div>
            <div class="label-small">Доступно</div>
            <div class="balance-txt" id="goldBalanceDetail">221 455,25<span>₸</span></div>
        </div>

        <div class="content-sheet">
            <div class="sticky-nav">
                <div class="tab-switcher">
                    <div class="tab-item active" onclick="changeTab(event, 'actions')">Действия</div>
                    <div class="tab-item" onclick="changeTab(event, 'info')">Инфо</div>
                    <div class="tab-item" onclick="changeTab(event, 'history')">Выписка</div>
                </div>
            </div>

            <div id="actions" class="tab-pane active">
                <div class="action-row"><img id="icon-qr" src="" class="action-img"><span class="action-label">Kaspi QR</span><span class="action-chevron">›</span></div>
                
                <a href="transfer_menu.html" style="text-decoration: none;">
                    <div class="action-row">
                        <img id="icon-transfer" src="" class="action-img"><span class="action-label">Перевести</span><span class="action-chevron">›</span>
                    </div>
                </a>

                <div class="action-row"><img id="icon-topup" src="" class="action-img"><span class="action-label">Пополнить Kaspi Gold</span><span class="action-chevron">›</span></div>
                <div class="action-row"><img id="icon-buy" src="" class="action-img"><span class="action-label">Оплата в интернете</span><span class="action-chevron">›</span></div>
                <div class="action-row"><img id="icon-subs" src="" class="action-img"><span class="action-label">Платные сервисы и подписки</span><span class="action-chevron">›</span></div>
                <div class="action-row"><img id="icon-get" src="" class="action-img"><span class="action-label">Заказать сумму на снятие</span><span class="action-chevron">›</span></div>
            </div>

            <div id="history" class="tab-pane">
                <div class="date-divider">13 февраля</div>
                <div class="tx-row">
                    <div class="tx-icon" style="background:#E2AD61">Ж</div>
                    <div class="tx-details"><span class="tx-main-text">Жохаргуль Я.</span><span class="tx-sub-text">Пополнения</span></div>
                    <div class="tx-sum tx-positive">+ 1 000 ₸</div>
                </div>
                <div class="tx-row">
                    <div class="tx-icon" style="background:#55B54D">I</div>
                    <div class="tx-details"><span class="tx-main-text">IT ez</span><span class="tx-sub-text">Электроника</span></div>
                    <div class="tx-sum">- 450 ₸</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const CUSTOM_ICONS = {
            qr: "qr.png",
            transfer: "transfer.png",
            topup: "travel.png",
            pay: "pay.png",
            bank: "bank.png",
            subs: "travel.png" // Используем travel.png как и для пополнения, судя по твоему коду
        };

        function loadIcons() {
            document.getElementById('icon-qr').src = CUSTOM_ICONS.qr;
            document.getElementById('icon-transfer').src = CUSTOM_ICONS.transfer;
            document.getElementById('icon-topup').src = CUSTOM_ICONS.topup;
            document.getElementById('icon-buy').src = CUSTOM_ICONS.pay;
            document.getElementById('icon-subs').src = CUSTOM_ICONS.subs;
            document.getElementById('icon-get').src = CUSTOM_ICONS.bank;
        }
        loadIcons();

        const DEFAULT_BALANCE = "221 455";
        function syncBalance() {
            const balance = localStorage.getItem('kaspi_gold_balance') || DEFAULT_BALANCE;
            document.getElementById('goldBalanceDetail').innerHTML = balance + ' <span>₸</span>';
        }
        syncBalance();

        window.onload = () => { 
            setTimeout(() => document.body.classList.add('page-visible'), 50); 
        };

        function changeTab(e, tabId) {
            document.querySelectorAll('.tab-item').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-pane').forEach(p => p.classList.remove('active'));
            e.currentTarget.classList.add('active');
            document.getElementById(tabId).classList.add('active');
        }

        document.getElementById('backBtn').onclick = function(e) {
            e.preventDefault();
            document.body.classList.remove('page-visible');
            setTimeout(() => window.location.href = this.getAttribute('href'), 350);
        };
    </script>
</body>
</html>